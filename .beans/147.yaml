id: '147'
title: 'FOUNDATION-005a: if/then/elif/else/fi syntax'
status: open
priority: 1
created_at: 2026-01-30T18:49:25.180316Z
updated_at: 2026-01-30T18:49:25.180316Z
description: |-
  Implement POSIX if/then/elif/else/fi control flow syntax.

  ## Problem
  if true; then echo yes; fi produces "Error: unexpected token". Parser expects Rust-style braces.

  ## Implementation
  1. Add then/elif/else/fi as context-sensitive keywords in lexer
  2. Parser: recognize if COND; then BODY; elif COND; then BODY; else BODY; fi
  3. Handle compound conditions with && and ||
  4. Handle nested if statements

  ## Acceptance Criteria
  - [ ] if true; then echo yes; fi -> yes
  - [ ] if false; then echo yes; else echo no; fi -> no
  - [ ] if false; then echo 1; elif true; then echo 2; fi -> 2
  - [ ] Nested if works
  - [ ] Smoke test: if tests pass

  ## Files to Modify
  - src/lexer/mod.rs - Add then/fi/elif keywords
  - src/parser/mod.rs - Parse if statements
  - src/parser/ast.rs - AST node for if
  - src/executor/mod.rs - Execute if statements
