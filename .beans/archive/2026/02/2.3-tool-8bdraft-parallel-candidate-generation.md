id: '2.3'
title: 'Tool: 8b_draft - Parallel candidate generation'
slug: tool-8bdraft-parallel-candidate-generation
status: closed
priority: 2
created_at: 2026-02-03T08:50:57.660053Z
updated_at: 2026-02-03T08:54:50.038195Z
description: |-
  ## What to implement
  Register `8b_draft` tool that generates N candidate solutions in parallel.

  ## Files
  - ~/.pi/agent/extensions/8b-tools/tools/draft.ts

  ## Interface
  ```typescript
  pi.registerTool({
    name: "8b_draft",
    description: "Generate multiple candidate solutions in parallel using 8B. Returns all candidates for review.",
    parameters: Type.Object({
      prompt: Type.String({ description: "The task to accomplish" }),
      context: Type.Optional(Type.String({ description: "Relevant context/code" })),
      count: Type.Optional(Type.Number({ description: "Number of candidates (default 5)" })),
      temperature: Type.Optional(Type.Number({ description: "Sampling temperature (default 0.7)" }))
    }),
    async execute(toolCallId, params, signal, onUpdate, ctx) {
      const count = params.count ?? 5;
      // Generate N candidates in parallel with varying temperatures
      // Return all candidates numbered for selection
    }
  });
  ```

  ## Example Use Cases
  - Generate 5 different implementations, pick best
  - Brainstorm 10 approaches to a problem
  - Draft multiple test cases

  ## Acceptance
  - Generates N responses in parallel (concurrent API calls)
  - Uses temperature variation for diversity
  - Returns candidates in numbered format
  - Reports total time and avg speed
closed_at: 2026-02-03T08:54:50.038195Z
close_reason: Implemented 8b_draft tool with parallel candidate generation. Uses temperature variation for diversity. Prompts later candidates to try different approaches.
parent: '2'
verify: grep -q "8b_draft" ~/.pi/agent/extensions/8b-tools/index.ts
claimed_by: pi-agent
claimed_at: 2026-02-03T08:54:23.265326Z
is_archived: true
produces:
- 8b_draft_tool
requires:
- CerebrasClient
- chatParallel
