id: '193.6'
title: fc builtin - history control
slug: fc-builtin-history-control
status: closed
priority: 2
created_at: 2026-02-02T01:08:53.084314Z
updated_at: 2026-02-02T09:39:29.611138Z
description: |-
  Implement the fc (fix command) builtin for history control.

  ## POSIX Specification
  fc [-r][-e editor] [first [last]]
  fc -l [-nr] [first [last]]
  fc -s [old=new] [first]

  Options:
  - -e editor: use editor to edit commands
  - -l: list commands (don't edit)
  - -n: suppress line numbers in list
  - -r: reverse order
  - -s: re-execute without editing

  ## Environment Variables
  - FCEDIT: default editor (falls back to EDITOR, then ed)
  - HISTSIZE: affects range of fc

  ## Implementation
  - Integrate with existing history system
  - Support editing with external editor
  - Handle command substitution (old=new)

  ## Files to Modify
  - src/builtins/fc.rs - new file
  - src/builtins/mod.rs - register builtin
  - src/history.rs - history access functions
acceptance: fc -l lists history; fc -e editor edits command; fc -s re-executes; FCEDIT/EDITOR honored
labels:
- posix
- builtin
- history
closed_at: 2026-02-02T09:39:29.611138Z
parent: '193'
verify: cargo test fc_builtin
claimed_at: 2026-02-02T09:39:29.598754Z
is_archived: true
