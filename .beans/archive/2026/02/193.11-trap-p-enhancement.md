id: '193.11'
title: trap -p enhancement
slug: trap-p-enhancement
status: closed
priority: 3
created_at: 2026-02-02T01:09:26.581558Z
updated_at: 2026-02-02T09:39:31.938564Z
description: |-
  Enhance trap -p per POSIX.1-2024.

  ## POSIX.1-2024 Clarification
  trap -p [signal_name...]

  - No args: print ALL traps in reusable format
  - With signal names: print only those traps

  ## Current State
  trap -p may already work partially. Verify and enhance.

  ## Output Format
  Output should be valid shell commands that recreate the traps:
  ```sh
  trap -- 'echo cleanup' EXIT
  trap -- '' SIGINT
  ```

  ## Files to Modify
  - src/builtins/trap.rs - enhance -p option
acceptance: trap -p with no args lists all traps; trap -p SIG lists specific trap; output is shell-reusable
labels:
- posix
- posix-2024
- builtin
closed_at: 2026-02-02T09:39:31.938564Z
parent: '193'
verify: cargo test trap_print
claimed_at: 2026-02-02T09:39:31.926462Z
is_archived: true
