id: '2.7'
title: 'Tool: 8b_verify_predict - Predict if verify will pass'
slug: tool-8bverifypredict-predict-if-verify-will-pass
status: closed
priority: 2
created_at: 2026-02-03T08:51:25.411678Z
updated_at: 2026-02-03T09:06:21.986436Z
description: "## What to implement\nRegister `8b_verify_predict` tool that predicts whether a bean's verify command will pass.\n\n## Files\n- ~/.pi/agent/extensions/8b-tools/tools/verify-predict.ts\n\n## Interface\n```typescript\npi.registerTool({\n  name: \"8b_verify_predict\",\n  description: \"Predict if a bean's verify command will pass based on current code state. Fast check before running actual tests.\",\n  parameters: Type.Object({\n    beanId: Type.String({ description: \"Bean ID to check\" })\n  }),\n  async execute(toolCallId, params, signal, onUpdate, ctx) {\n    // 1. Read bean, get verify command and acceptance criteria\n    // 2. Read relevant files mentioned in bean\n    // 3. Use 8B to analyze:\n    //    \"Given this acceptance criteria and current code, will the verify pass?\"\n    // 4. Return prediction with reasoning\n  }\n});\n```\n\n## Example\n```\nBean: \"Add login endpoint\"\nVerify: \"cargo test test_login\"\nAcceptance: \"POST /login returns JWT token\"\n\n8B Analysis:\n- src/routes/auth.rs has login function ✓\n- Function returns Result<Json<Token>> ✓  \n- test_login exists in tests/auth.rs ✓\n- BUT: test expects 200 status, function returns 201\n\nPrediction: LIKELY FAIL\nReason: \"Status code mismatch - test expects 200 but handler returns 201\"\n```\n\n## Acceptance\n- Reads bean and verify command\n- Reads relevant code files\n- 8B predicts pass/fail with reasoning\n- Faster feedback than running tests"
closed_at: 2026-02-03T09:06:21.986436Z
close_reason: 'Implemented 8b_verify_predict tool with: (1) verify-predict.ts that reads beans, extracts acceptance criteria and verify commands, reads relevant code files, and uses 8B to predict pass/fail; (2) Tool registration in index.ts'
parent: '2'
verify: grep -q "8b_verify_predict" ~/.pi/agent/extensions/8b-tools/index.ts
claimed_at: 2026-02-03T09:04:46.945352Z
is_archived: true
produces:
- 8b_verify_predict_tool
requires:
- CerebrasClient
