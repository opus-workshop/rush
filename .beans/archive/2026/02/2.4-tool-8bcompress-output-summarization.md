id: '2.4'
title: 'Tool: 8b_compress - Output summarization'
slug: tool-8bcompress-output-summarization
status: closed
priority: 2
created_at: 2026-02-03T08:50:57.674923Z
updated_at: 2026-02-03T08:54:00.077545Z
description: |-
  ## What to implement
  Register `8b_compress` tool that summarizes verbose command output.

  ## Files
  - ~/.pi/agent/extensions/8b-tools/tools/compress.ts

  ## Interface
  ```typescript
  pi.registerTool({
    name: "8b_compress",
    description: "Summarize verbose output (build logs, test results, etc.) into key points.",
    parameters: Type.Object({
      output: Type.String({ description: "The verbose output to compress" }),
      focus: Type.Optional(Type.String({ description: "What to focus on (errors, warnings, summary)" }))
    }),
    async execute(toolCallId, params, signal, onUpdate, ctx) {
      // Call 8B to extract key information
      // Focus on: errors, warnings, success/failure, key metrics
    }
  });
  ```

  ## Example
  ```
  Input: 5000 lines of cargo build output
  Output: "Build succeeded. 2 warnings in src/auth.rs (unused import line 5, deprecated function line 42). Compiled 47 crates in 12.3s."
  ```

  ## Acceptance
  - Compresses long output to key points
  - Extracts errors/warnings prominently
  - Handles build logs, test output, general logs
  - Respects focus parameter
closed_at: 2026-02-03T08:54:00.077545Z
close_reason: Implemented 8b_compress tool with compress() function. Supports focus modes (errors, warnings, summary, all). Handles truncation for very long outputs.
parent: '2'
verify: grep -q "8b_compress" ~/.pi/agent/extensions/8b-tools/index.ts
claimed_by: pi-agent
claimed_at: 2026-02-03T08:52:54.124963Z
is_archived: true
produces:
- 8b_compress_tool
requires:
- CerebrasClient
