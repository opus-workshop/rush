id: '193.7'
title: read -d delimiter option
slug: read-d-delimiter-option
status: closed
priority: 2
created_at: 2026-02-02T01:08:55.089579Z
updated_at: 2026-02-02T09:39:30.080033Z
description: |-
  Add -d option to read builtin (new in POSIX.1-2024).

  ## POSIX.1-2024 Specification
  read -d delim
  - Stop reading at first occurrence of delim instead of newline
  - If delim is empty string, stop at NUL character
  - Useful for reading NUL-delimited data (find -print0)

  ## Examples
  ```sh
  # Read until colon
  echo "a:b:c" | read -d : first
  echo "$first"  # prints "a"

  # Read NUL-delimited (from find -print0)
  find . -print0 | while read -d '' file; do
    echo "File: $file"
  done
  ```

  ## Implementation
  - Add -d flag to read builtin
  - Modify read loop to check for delimiter
  - Handle empty delimiter as NUL byte

  ## Files to Modify
  - src/builtins/read.rs - add -d option handling
acceptance: read -d X stops at character X instead of newline; works with empty delimiter for NUL
labels:
- posix
- posix-2024
- builtin
closed_at: 2026-02-02T09:39:30.080033Z
parent: '193'
verify: cargo test read_delimiter
claimed_at: 2026-02-02T09:39:30.065820Z
is_archived: true
