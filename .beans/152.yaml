id: '152'
title: 'FOUNDATION-FIX-002: Set command with positional parameters'
status: open
priority: 1
created_at: 2026-01-30T18:49:25.222867Z
updated_at: 2026-01-30T18:49:25.222867Z
description: |-
  Implement `set -- arg1 arg2 arg3` syntax for setting positional parameters and fix `shift` command.

  ## Problem
  Setting positional parameters fails:
  ```bash
  set -- a b c; shift; echo $1
  # Error: set: invalid argument: a
  ```

  ## Expected Behavior
  - `set -- arg1 arg2 arg3` sets $1=$arg1, $2=$arg2, etc.
  - `$#` reflects new number of arguments
  - `shift` moves all arguments down
  - `shift 2` shifts by 2
  - Works in function contexts

  ## Acceptance Criteria
  - [ ] `set -- a b c; echo $1` outputs `a`
  - [ ] `set -- a b c; shift; echo $1` outputs `b`
  - [ ] `set -- a b c; echo $#` outputs `3`
  - [ ] `set -- a b c; shift; echo $#` outputs `2`
  - [ ] `shift` without args works
  - [ ] Smoke test: shift positional passes

  ## Technical Notes
  - Parser: recognize `set --` as special form
  - Executor: update positional parameters in scope
  - `shift` already exists but needs to work with set command
labels:
- builtins
- foundation
- parameters
