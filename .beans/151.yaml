id: '151'
title: 'FOUNDATION-FIX-001: Bracket test syntax [ ]'
status: open
priority: 1
created_at: 2026-01-30T18:49:25.214228Z
updated_at: 2026-01-30T18:49:25.214228Z
description: |-
  Fix bracket test syntax `[ condition ]` which is currently failing with parser errors.

  ## Problem
  Test command with bracket notation fails:
  ```bash
  [ 1 -eq 1 ] && echo yes
  # Error: Invalid token at position 0: '[ 1 -eq 1 '
  ```

  ## Expected Behavior
  - `[ -z "string" ]` - test if string is empty
  - `[ 1 -eq 1 ]` - test if equal
  - `[ -f file.txt ]` - test if file exists
  - `[ x != y ]` - test not equal
  - Brackets treated as delimiters for test command

  ## Acceptance Criteria
  - [ ] `[ 1 -eq 1 ] && echo yes` outputs `yes`
  - [ ] `[ 1 -ne 1 ] || echo yes` outputs `yes`
  - [ ] `[ -z "" ]` works
  - [ ] `[ -n "text" ]` works
  - [ ] `[ -f file.txt ]` works
  - [ ] Smoke test bracket notation passes

  ## Technical Notes
  - Bracket `[` can start a test command like `test`
  - `]` is the terminator
  - Need lexer/parser changes to recognize this pattern
  - Can reuse existing test builtin logic
labels:
- foundation
- parser
- tests
