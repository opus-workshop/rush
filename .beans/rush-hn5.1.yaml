id: rush-hn5.1
title: Auto-migration suggestions for bash-to-rush conversion
status: open
priority: 3
created_at: 2026-01-31T16:31:36.069413Z
updated_at: 2026-01-31T16:31:36.069413Z
description: |-
  Generate specific migration suggestions when bash-to-rush compatibility issues are found.

  ## What to implement
  - SuggestionGenerator that takes compatibility issue and generates migration advice
  - Map incompatibilities to Rush features that provide equivalent functionality
  - Generate output showing the conversion path
  - Provide side-by-side examples

  ## Files to Modify
  - src/compat/analyzer.rs (extend to generate suggestions)
  - src/compat/database.rs (add suggestion text to feature database)
  - src/compat/report.rs (format suggestions in compatibility report)

  ## Example Suggestions
  Issue: "GNU grep -v regex not in Rush grep"
  Suggestion: "Use: grep -v 'pattern' for inverted match"

  Issue: "bash array syntax not supported"
  Suggestion: "Arrays not yet supported. Consider: for x in a b c; do ... done"

  Issue: "trap ERR not implemented"
  Suggestion: "Use: trap 'your_handler' 0 1 2 15 (trap on specific signals)"
acceptance: |-
  - Analyzer output includes "suggestion" field with actionable advice
  - Suggestions reference Rush builtin alternatives or workarounds
  - At least 30 suggestion mappings for common bash patterns
  - rush --check script.sh shows suggestions for all incompatibilities
  - Suggestions are specific and actionable (not generic)
  - cargo test passes
  - Help text clearly explains: "to fix this, try: ..."
parent: rush-hn5
dependencies:
- rush-hn5.3
verify: cargo test --lib compat
