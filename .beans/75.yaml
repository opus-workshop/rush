id: '75'
title: 'POSIX-014: Implement full positional parameters'
status: open
priority: 1
created_at: 2026-01-30T18:49:24.657689Z
updated_at: 2026-01-30T18:49:24.657689Z
description: |-
  Fully implement positional parameters ($0, $1-$9, ${10}+, $#, $@, $*).

  ## Context
  Runtime has `positional_params` field but it's not fully wired up. Need complete implementation.

  ## Acceptance Criteria
  - Wire up $0 (script/shell name)
  - Wire up $1-$9 (first 9 arguments)
  - Wire up ${10}, ${11}, etc. (arguments 10+)
  - Wire up $# (argument count)
  - Wire up $@ (all arguments, individually quoted)
  - Wire up $* (all arguments, merged with IFS)
  - Test in scripts: `./script.sh arg1 arg2 arg3`
  - Test in functions: `fn foo() { echo $1 $2; }; foo a b`
  - Test shift interaction: shift decrements $# and shifts arguments
  - Test $@ vs $* behavior with IFS
  - Test quoted vs unquoted: "$@" vs $@, "$*" vs $*
  - Add integration tests
  - Document behavior

  ## POSIX Requirements
  - $0: shell name or script name
  - $1-$9, ${10}+: positional parameters
  - $#: number of positional parameters (not counting $0)
  - $@: expands to separate words, preserves empty strings when quoted
  - $*: expands to single word (joined by first char of IFS)
  - Proper quoting behavior

  ## Files to Modify
  - src/runtime/mod.rs (ensure positional_params is populated)
  - src/executor/mod.rs (pass args to functions, scripts)
  - src/executor/mod.rs variable expansion (expand $1-$9, ${10}+, $#, $@, $*)
  - src/main.rs (set $0 and script args)
  - tests/positional_param_tests.rs (add comprehensive tests)

  ## Estimated Effort
  50-60k tokens (wire up all params, test edge cases, handle quoting)
labels:
- critical
- parameters
- posix
- variables
