id: '33'
title: 'AI-010: Documentation and examples for AI agent integration'
status: open
priority: 3
created_at: 2026-01-30T18:49:24.422091Z
updated_at: 2026-01-30T18:49:24.422091Z
description: "As an AI coding agent developer, I need comprehensive documentation and examples so I can integrate Rush into my agent effectively.\n\n## Priority: P2 - MEDIUM\nEven the best features are useless if AI agents don't know how to use them. Documentation is critical for adoption.\n\n## Acceptance Criteria\n- [ ] Create docs/AI_AGENT_GUIDE.md with complete integration guide\n- [ ] Create docs/AI_AGENT_JSON_REFERENCE.md with all JSON schemas\n- [ ] Add examples/ directory with real-world agent workflows\n- [ ] Update README.md with AI agent section\n- [ ] Create migration guide from bash+jq to Rush\n- [ ] Add inline help for all --json flags\n- [ ] Create video/GIF demos for README\n- [ ] All code examples tested and working\n\n## Documentation Structure\n\n### 1. docs/AI_AGENT_GUIDE.md\n```markdown\n# Rush for AI Coding Agents\n\nComprehensive guide for integrating Rush into AI coding assistants.\n\n## Table of Contents\n1. Why Rush for AI Agents?\n2. Quick Start\n3. Structured Git Operations\n4. JSON Native Operations\n5. File Operations with JSON\n6. HTTP Client\n7. Error Handling\n8. Performance Optimization\n9. Best Practices\n10. Migration from Bash\n\n## Why Rush?\n- **10x faster**: Native Rust, no subprocess overhead\n- **Structured output**: JSON by default, no parsing\n- **Typed errors**: Machine-readable error types\n- **Reliability**: Type-safe, predictable behavior\n- **All-in-one**: Git, JSON, HTTP, file ops built-in\n\n## Quick Start\n### Installation\n```bash\ncargo install rush-shell\n```\n\n### First Steps\n```bash\n# Enable JSON errors for better error handling\nexport RUSH_ERROR_FORMAT=json\n\n# Get repository status\nrush -c \"git_status --json\"\n\n# Find and process files\nrush -c \"find --json src/ -name '*.rs' | json_get '.[].path'\"\n```\n\n## [Continue with detailed sections...]\n```\n\n### 2. docs/AI_AGENT_JSON_REFERENCE.md\n```markdown\n# JSON Schema Reference\n\nComplete reference for all JSON output formats.\n\n## git_status --json\n\n### Schema\n```json\n{\n  \"branch\": \"string | null\",\n  \"tracking\": \"string | null\",\n  \"ahead\": \"number\",\n  \"behind\": \"number\",\n  \"state\": \"clean | merge | rebase | cherry-pick\",\n  \"staged\": [\n    {\n      \"path\": \"string\",\n      \"status\": \"modified | added | deleted | renamed\"\n    }\n  ],\n  // ... etc\n}\n```\n\n### Example\n[Include real example]\n\n### Fields\n- `branch`: Current branch name, null if detached HEAD\n- `tracking`: Remote tracking branch, null if none\n- `ahead`: Number of commits ahead of tracking\n- ...\n\n## [Continue for all commands...]\n```\n\n### 3. examples/\n\nCreate real-world example workflows:\n\n**examples/commit_message_generator.rush**\n```bash\n#!/usr/bin/env rush\n# Generate intelligent commit messages from git diff\n\nset -e\nexport RUSH_ERROR_FORMAT=json\n\n# Get staged changes\ndiff=$(git_diff --json --staged)\n\nif [ \"$(echo \"$diff\" | json_get '.summary.files_changed')\" = \"0\" ]; then\n  echo \"No staged changes\"\n  exit 1\nfi\n\n# Extract file changes\nfiles=$(echo \"$diff\" | json_get '.files[].path' | head -5)\ninsertions=$(echo \"$diff\" | json_get '.summary.insertions')\ndeletions=$(echo \"$diff\" | json_get '.summary.deletions')\n\n# Generate message\necho \"Update $files\"\necho \"\"\necho \"Changed files: $(echo \"$diff\" | json_get '.summary.files_changed')\"\necho \"+$insertions -$deletions lines\"\n```\n\n**examples/find_todos.rush**\n```bash\n#!/usr/bin/env rush\n# Find all TODO comments in codebase with context\n\ngrep --json \"TODO\" src/**/*.rs | \\\n  json_query '.[] | {file, line: .line_number, todo: .match}' | \\\n  json_get '.[] | \"\\(.file):\\(.line) - \\(.todo)\"'\n```\n\n**examples/dependency_check.rush**\n```bash\n#!/usr/bin/env rush\n# Check if dependencies are up to date\n\nset -e\n\n# Fetch latest crate info\nfor crate in $(json_get '.dependencies | keys[]' Cargo.toml); do\n  latest=$(fetch --json \"https://crates.io/api/v1/crates/$crate\" | \\\n           json_get '.crate.max_version')\n  current=$(json_get \".dependencies.$crate\" Cargo.toml)\n  \n  if [ \"$current\" != \"$latest\" ]; then\n    echo \"$crate: $current -> $latest\"\n  fi\ndone\n```\n\n**examples/code_review_prep.rush**\n```bash\n#!/usr/bin/env rush\n# Prepare code review summary\n\nset -e\n\n# Get commit range\nbase_branch=\"origin/main\"\ncurrent_branch=$(git_status --json | json_get '.branch')\n\necho \"# Code Review: $current_branch\"\necho \"\"\n\n# Commit summary\necho \"## Commits\"\ngit_log --json \"$base_branch..$current_branch\" | \\\n  json_get '.[].message' | \\\n  while read -r msg; do\n    echo \"- $msg\"\n  done\n\necho \"\"\necho \"## Files Changed\"\ngit_diff --json \"$base_branch..HEAD\" --stat | \\\n  json_get '.files[] | \"\\(.path): +\\(.additions) -\\(.deletions)\"'\n\necho \"\"\necho \"## TODOs Added\"\ngit_diff --json \"$base_branch..HEAD\" | \\\n  json_query '.files[].hunks[].changes[] | select(.type == \"add\" and .line | contains(\"TODO\"))'\n```\n\n### 4. README.md Updates\n\nAdd prominent section:\n```markdown\n## For AI Coding Agents\n\nRush is designed for AI agents that make hundreds of shell calls per task.\n\n### Why Rush?\n- **10x faster** than bash+jq for typical agent workflows\n- **Structured output**: All commands support `--json` flag\n- **Typed errors**: Machine-readable error types for intelligent error handling\n- **All-in-one**: Git, JSON, HTTP, file operations built-in\n\n### Quick Example\n```bash\n# Get repository status and analyze changes\nrush -c \"git_status --json | json_get '.unstaged[] | select(.status == \\\"modified\\\")'\"\n\n# Find all TODO comments with context\nrush -c \"grep --json 'TODO' src/**/*.rs | json_query '.[] | {file, line, text}'\"\n\n# Fetch API data and extract fields\nrush -c \"fetch --json https://api.github.com/repos/rust-lang/rust | json_get '.stargazers_count'\"\n```\n\n### Documentation\n- [AI Agent Integration Guide](docs/AI_AGENT_GUIDE.md)\n- [JSON Schema Reference](docs/AI_AGENT_JSON_REFERENCE.md)\n- [Example Workflows](examples/)\n- [Performance Benchmarks](docs/PERFORMANCE.md)\n\n### Benchmarks\n| Operation | Rush | Bash+jq | Speedup |\n|-----------|------|---------|----------|\n| git_status 100x | 500ms | 2000ms | 4x |\n| find + filter | 10ms | 100ms | 10x |\n| git_log + parse | 50ms | 200ms | 4x |\n| Complex pipeline | 100ms | 500ms | 5x |\n```\n\n### 5. Video/GIF Demos\n\nCreate demos showing:\n1. Rush vs bash speed comparison (side-by-side)\n2. JSON output and querying\n3. Error handling with typed errors\n4. Complex workflow example\n\nUse asciinema or similar for terminal recordings.\n\n## Testing Strategy\n- All code examples must be tested\n- Create tests/docs_examples.rs that runs all examples\n- Ensure examples work with current Rush version\n- Update examples when APIs change\n\n## Deliverables\n1. **AI_AGENT_GUIDE.md** - Complete integration guide\n2. **AI_AGENT_JSON_REFERENCE.md** - All JSON schemas\n3. **examples/** - 10+ working examples\n4. **README.md** - Updated with AI agent section\n5. **Migration guide** - Bash to Rush conversion\n6. **Video demos** - 3-5 demo recordings\n7. **Inline help** - All commands have --help with JSON info\n\n## Dependencies\n- No new dependencies\n- asciinema or vhs for terminal recordings\n\n## Estimated Effort\n45-55k tokens:\n- AI_AGENT_GUIDE.md: 15k\n- AI_AGENT_JSON_REFERENCE.md: 10k\n- Examples: 10k\n- README updates: 5k\n- Migration guide: 8k\n- Video demos: 7k"
labels:
- ai-agents
- documentation
- examples
- p2
verify: test -f "docs/AI_AGENT_GUIDE.md"
