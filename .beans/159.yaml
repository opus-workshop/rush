id: '159'
title: 'FOUNDATION-004: Fix variable assignment syntax'
status: open
priority: 1
created_at: 2026-01-30T18:49:25.288436Z
updated_at: 2026-01-30T18:49:25.288436Z
description: |-
  ## Problem
  `FOO=bar` is parsed as command `FOO` with argument `=bar` instead of variable assignment.

  ## Current Behavior
  ```bash
  FOO=bar      # Error: command not found: FOO
  FOO=bar echo # Same error
  ```

  ## Expected Behavior
  ```bash
  FOO=bar           # Sets FOO in current shell
  FOO=bar cmd       # Sets FOO for just that command
  export FOO=bar    # Sets and exports FOO
  ```

  ## Implementation
  1. Parser must recognize `NAME=VALUE` pattern at statement start
  2. Handle multiple assignments: `A=1 B=2 cmd`
  3. Handle quoted values: `FOO="hello world"`
  4. Distinguish from commands that contain `=`

  ## Test Cases
  ```bash
  test_case "VAR=value assignment" 'FOO=bar; echo $FOO' 'bar'
  test_case "export VAR=value" 'export FOO=bar; echo $FOO' 'bar'
  test_case "VAR=value command" 'FOO=test printenv FOO' 'test'
  ```
