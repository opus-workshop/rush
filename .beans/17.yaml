id: '17'
title: Advanced Shell Completion System
status: open
priority: 3
created_at: 2026-01-30T18:49:24.349101Z
updated_at: 2026-01-30T18:49:24.349101Z
description: "Implement a comprehensive tab completion system with context-awareness and extensibility.\n\n## Problem\nTab completion is table stakes for shell adoption. Rush needs best-in-class completion: commands, flags, files, git branches, custom completions.\n\n## Success Criteria\n- Command completion from PATH\n- Builtin flag completion (e.g., `ls --<TAB>`)\n- File/directory completion with filtering\n- Git-aware completion (branches, commits, remotes)\n- Custom completion functions\n- Completion scripts in `~/.rush/completions/`\n- Fuzzy matching for partial matches\n- Description hints for completions\n- Fast (<100ms latency)\n- Backwards compatible with bash completions (stretch)\n\n## User Stories\n1. As a user, I want command completion so I can work efficiently\n2. As a git user, I want branch completion so I don't have to type full names\n3. As a tool author, I want to provide Rush completions so my users have a great experience\n4. As a bash migrator, I want my existing completions to work\n\n## Example Behavior\n```\n$ rush git che<TAB>\nchecklist  checkout\n\n$ rush git checkout <TAB>\nmaster       (local branch)\nmain         (local branch) \nfeature/foo  (local branch)\norigin/dev   (remote branch)\n\n$ rush ls --<TAB>\n--all        -a   Show hidden files\n--long       -l   Long format\n--human      -h   Human-readable sizes\n--color           Colorize output\n```\n\n## Technical Implementation\n- Already have `src/completion/` module\n- Implement `Completer` trait fully\n- Add context-aware completion logic\n- Git completion using git2 crate\n- File completion with filtering\n- Custom completion script loader\n- Cache frequently used completions\n- Integration with reedline's completion system\n\n## Deliverables\n- Complete `Completer` implementation\n- Context-aware completion engine\n- Git completion support\n- Flag/option completion for builtins\n- Custom completion script system\n- Documentation and examples\n- Completion installation for popular tools"
labels:
- completion
- feature
- hn-feature
- phase4
- ux
verify: test -d docs
