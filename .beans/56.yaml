id: '56'
title: 'STABILITY-009: Job Control (Background Jobs)'
status: open
priority: 3
created_at: 2026-01-30T18:49:24.544904Z
updated_at: 2026-01-30T18:49:24.544904Z
description: |-
  As a power user, I need job control so that I can run long tasks in the background and manage multiple jobs.

  ## Priority: P2 - MEDIUM
  Important for UX, not critical for basic shell use.

  ## Acceptance Criteria
  - [ ] `command &` runs in background
  - [ ] `jobs` builtin lists background jobs
  - [ ] `fg [job]` brings job to foreground
  - [ ] `bg [job]` continues stopped job in background
  - [ ] `kill %job` kills job by number
  - [ ] SIGCHLD handler for job status updates
  - [ ] Job status shown in prompt (optional)
  - [ ] cargo test passes (all tests including job tests)
  - [ ] cargo build --release succeeds
  - [ ] cargo clippy -- -D warnings passes

  ## Technical Implementation
  ```rust
  pub struct JobManager {
      jobs: Vec<Job>,
  }

  pub struct Job {
      id: usize,
      pid: u32,
      command: String,
      status: JobStatus,
  }

  enum JobStatus {
      Running,
      Stopped,
      Done,
  }
  ```

  ## Files to Modify
  - src/executor/mod.rs - Handle & operator
  - src/runtime/mod.rs - Add JobManager
  - src/builtins/mod.rs - Add jobs, fg, bg builtins
  - src/main.rs - Handle SIGCHLD

  ## Testing
  - Test background execution
  - Test jobs listing
  - Test fg/bg commands
  - Test job completion detection

  ## Estimated Effort: 3 days
labels:
- job-control
- p2
- rush
- stability
