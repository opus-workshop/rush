id: rush-hn3.1
title: Help text database for common errors
status: open
priority: 2
created_at: 2026-01-31T16:31:29.343414Z
updated_at: 2026-01-31T16:31:29.343414Z
description: |-
  Implement a static help database that provides contextual help for common Rush errors.

  ## What to implement
  - ErrorHelpDb struct with static help mappings
  - lookup(error_code: &str) -> &'static str function
  - Integration with existing error formatter to display help text
  - At least 20 error type mappings

  ## Files to Modify or Create
  - src/error/help_db.rs (new file - static error help database)
  - src/executor/error_formatter.rs (extend to call help lookup)

  ## Patterns to Follow
  - Use lazy_static or phf crate for static lookup maps
  - Mirror error type definitions from parser and executor
  - Help text should be concise (1-2 sentences) and actionable

  ## Error Types to Cover
  - "Unknown flag" - suggest --help
  - "Missing pipe target" - show pipe usage
  - "Invalid redirection" - show valid redirection syntax
  - "Variable not set" - suggest set VAR=value or use ${VAR:-default}
  - "File not found" - for common paths like README.md
  - "Syntax error" - categorize by type (control flow, variables, etc)
  - "Command not found" - suggest similar commands
  - "Permission denied" - suggest chmod or sudo
  - At least 12 more common patterns from real usage
acceptance: |-
  - ErrorHelpDb created with at least 20 error->help mappings
  - lookup() function works without allocation (static data)
  - Error formatter calls lookup() and includes help in output
  - Tests verify help text is retrieved for known errors
  - cargo build succeeds
  - cargo test passes
  - Help text is accessible via public API
parent: rush-hn3
